<div class="container-xxl prefecture-select">

  <div class="row mb-5 mt-5">
    <h2 class="pb-5">都道府県別</h2>
    <% array = ["中国・四国", "中部", "北海道・東北", "九州・沖縄", "近畿", "関東"] %>
    <% array.each.with_index(1) do |area, i| %>
      <div class="col-4 mb-5">
        <button type="button" class="btn btn-secondary" data-bs-toggle="modal" data-bs-target="#area<%= i %>">
          <%= area %>
        </button>
      </div>
    <% end %>
  </div>

  <!-- 都道府県のデータをリストとして定義 -->
  <% areas = {
    "中国・四国" => [
      { name: "鳥取県", path: "/tottori" },
      { name: "島根県", path: "/shimane" },
      { name: "岡山県", path: "/okayama" },
      { name: "広島県", path: "/hiroshima" },
      { name: "山口県", path: "/yamaguchi" },
      { name: "徳島県", path: "/tokushima" },
      { name: "香川県", path: "/kagawa" },
      { name: "愛媛県", path: "/ehime" },
      { name: "高知県", path: "/kochi" }
    ],
    '中部' => [
      { name: '富山県', path: '/toyama' },
      { name: '新潟県', path: '/niigata' },
      { name: '福井県', path: '/fukui' },
      { name: '石川県', path: '/ishikawa' },
      { name: '岐阜県', path: '/gifu' },
      { name: '長野県', path: '/nagano' },
      { name: '静岡県', path: '/shizuoka' },
      { name: '山梨県', path: '/yamanashi' },
      { name: '三重県', path: '/mie' },
      { name: '愛知県', path: '/aichi' }
    ],
    "北海道・東北" => [
      { name: "北海道", path: "/hokkaido" },
      { name: "青森県", path: "/aomori" },
      { name: "秋田県", path: "/akita" },
      { name: "岩手県", path: "/iwate" },
      { name: "山形県", path: "/yamagata" },
      { name: "宮城県", path: "/miyagi" },
      { name: "福島県", path: "/fukushima" }
    ],
    "九州・沖縄" => [
      { name: "福岡県", path: "/fukuoka" },
      { name: "大分県", path: "/oita" },
      { name: "長崎県", path: "/nagasaki" },
      { name: "佐賀県", path: "/saga" },
      { name: "熊本県", path: "/kumamoto" },
      { name: "宮崎県", path: "/miyazaki" },
      { name: "鹿児島県", path: "/kagoshima" },
      { name: "沖縄県", path: "/okinawa" }
    ],
  "近畿" => [
      { name: "京都府", path: "/kyoto" },
      { name: "滋賀県", path: "/shiga" },
      { name: "奈良県", path: "/nara" },
      { name: "三重県", path: "/mie" },
      { name: "兵庫県", path: "/hyogo" },
      { name: "大阪府", path: "/osaka" },
      { name: "和歌山県", path: "/wakayama" }
    ],
    '関東' => [
      { name: '群馬県', path: '/gunma' },
      { name: '栃木県', path: '/tochigi' },
      { name: '埼玉県', path: '/saitama' },
      { name: '茨城県', path: '/ibaraki' },
      { name: '東京都', path: '/tokyo' },
      { name: '千葉県', path: '/chiba' },
      { name: '神奈川県', path: '/kanagawa' }
    ]
  } %>

  <!-- 各エリアごとにモーダルを生成 -->
  <% areas.each.with_index(1) do |(region, prefs), i| %>
    <div class="modal fade" id="area<%= i %>" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="area<%= i %>" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="area<%= i %>"><%= region %></h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="row">
              <% prefs.each do |prefecture| %>
                <div class="col-6 mb-3">
                  <a href="/prefectures/<%= prefecture[:path] %>" class="btn btn-user"><%= prefecture[:name] %></a>
                </div>
              <% end %>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
  <% end %>
</div>